var PersonalGroup=function(n){var at=["l1cA8NteqFIpjQ","NHHQhVV0S19E0A","fXiz2v5wxp0QoQ","1vI26PfI2CAS0g","ATfuaEDTpZ0D0Q","8HYdXhENbKDo0A","47QIBeJvNuCV0w","Pz4HcvFRS1pcPQ","TT05BI1YzJ428A","vH5KMtyGBaEd8Q"],h="url('/th?id=OJ.",f="*",c=[],ft="08Jd06sEfPKHhA",i,l=-1,ki=!1,kt=0,st=n=="LARGE"?210:180,ot=n=="LARGE"?90:80,ii=-95,ri=-70,ui=10,vt=[0,0,0,0,0,0,0,0,0,0,0,2],t={hname:"localStatus",canAccess:!0,dataDom:null},y,wt=!1,lt=!1,ct=!1,v=!1,ut=this,p=_ge("pg"),et=_ge("fadeImage"),r=_ge("in_tl"),u=_ge("in_url"),e=_ge("hpit0"),d=_ge("pgnB0"),tt=_ge("rg"),rt=_ge("alreadyHave"),w=_ge("pgnC0"),b=_ge("pgusual"),g=_ge("prg"),ti=_ge("ofitem"),ni=_ge("norec"),gt=_ge("closepg"),dt=_ge("in_bt"),ht;Array.prototype.indexOf||(Array.prototype.indexOf=function(n){for(var i=this,t=0,r=i.length;t<r;t++)if(i[t]==n)return t;return-1});var ai=function(){return p&&et&&r&&u&&e&&rt&&tt&&w&&b&&d&&g&&ti&&ni&&gt&&dt},bt=function(){p.style.display="none",et.style.display="none",r.value="",u.value=""},it=function(r,u){r=sj_ev(r),elem=sj_et(r).parentNode,elem.style.backgroundImage=h+ft+"')",elem.style.backgroundPosition=n=="LARGE"?"0 0":"-15px -5px",i[u]=2,t.set("status",i);var f=elem.getElementsByTagName("span"),e=elem.getElementsByTagName("p");sj_pd(r),sj_sp(r),f&&e&&(f[0].style.display="none",e[0].style.display="none"),elem.parentNode.href="#",Log.Log("DHTMLClick","NavPerson","DeleteImage",!1,"url",elem.parentNode.href,"index",u)},pi=function(n,t){n.pointerType==n.MSPOINTER_TYPE_TOUCH&&it(n,t)};this.initImageStatus=function(){return t.get("status")?(i=t.get("status"),i=i.split(",")):i=vt,i};var nt=function(n,t,i){var r,u,f,e;t=t.toLowerCase(),r=imageInfoMap[t].ImageIndex,u=-st*(r%5),r=r%15,f=-ot*((r-r%5)/5),e=imageInfoMap[t][i],n.style.backgroundImage=e,n.style.backgroundPosition=u+"px "+f+"px"},pt=function(){var o,y,p,v;if(a(),r&&u&&r.value&&u.value&&r.className=="input_InputBox"&&u.className=="input_InputBox")if(o=u.value.toLowerCase(),f.indexOf(s(o,!0))<0){var c=r.value,w=e.getElementsByTagName("div"),h=w[l];imageInfoMap[o]?(y=n=="LARGE"?"LargeImageURL":"SmallImageURL",nt(h,o,y),h.parentNode.href=o):(h.style.backgroundImage="",p=h.parentNode,v=h.getElementsByTagName("span"),v[0].innerHTML=c,v[0].style.display="block",o=o.indexOf("http://")>=0||o.indexOf("https://")>=0?o:"http://"+o,p.href=o),t.set("a"+l,o+"_"+c),r.value="",u.value="",i[l]=1,t.set("status",i),bt(),Log.Log("DHTMLClick","NavPerson","AddButtonClick",!1,"url",o,"name",c,"index",l)}else rt.style.display="block",sb_st(function(){rt.style.display="none"},750);else r.className!="default_InputBox"&&r.value?u.className!="default_InputBox"&&u.value||(u.value="请输入网址链接！",u.className="alert_InputBox",sb_st(function(){u.className="input_InputBox",u.focus(),u.value=""},750)):(r.value="请输入网站名称！",r.className="alert_InputBox",sb_st(function(){r.className="input_InputBox",r.focus(),r.value=""},750))},yt=function(n){n=n.toLowerCase(),u.value=n,u.className="input_InputBox";var t=imageInfoMap[n].ItemName;r.value=t,r.className="input_InputBox",r.focus(),Log.Log("DHTMLClick","NavPerson","PGImage",!1,"Url",n,"Text",t)},s=function(n,t){return n&&(t?(n=n.replace(/\//g,"_"),n=n.replace(/\:/g,"maohao"),n=n.replace(/\?/g,"wenhao"),n=n.replace(/\=/g,"denghao"),n=n.replace(/\%/g,"baifenbi")):(n=n.replace(/\_/g,"/"),n=n.replace(/\maohao/g,":"),n=n.replace(/\wenhao/g,"?"),n=n.replace(/\denghao/g,"="),n=n.replace(/\baifenbi/g,"%"))),n},a=function(){var r,n,u;for(t.get("status")?(i=t.get("status"),i=i.split(",")):i=vt,r=e.getElementsByTagName("div"),f="",n=0;n<r.length;n++)u=r[n].parentNode.href,i[n]!=2&&(f=f+"*"+u);f=s(f,!0)},yi=function(n){for(var t=0;t<c.length&&c[t]!=n;t++);return!(t==c.length)},vi=function(){var pi=0,ht,ai,bt,li,l,vt,wt,w,dt,ci,g,hi,pt,gt,lt,ct,r,y,et,st,d,ei,k,o,ot;if(kt==0){for(ht=e.getElementsByTagName("div"),ai=ht.length,r=ai-1;r>=0;r--)l=ht[r],vt=n=="LARGE"?"LargeImageURL":"SmallImageURL",nt(l,l.parentNode.href,vt),i[r]==1?(wt=t.get("a"+r),w=wt.split("_")[0].toLowerCase(),w?(imageInfoMap[w]?nt(l,w,vt):(l.style.backgroundImage="",dt=l.getElementsByTagName("span"),ci=wt.split("_")[1],dt[0].innerHTML=ci,dt[0].style.display="block"),l.parentNode.href=w):l.style.backgroundImage=h+ft+"')"):i[r]==2&&(l.style.backgroundImage=h+ft+"')",l.style.backgroundPosition=n=="LARGE"?"0 0":"-15px -5px",l.parentNode.href="#");for(g=tt.getElementsByTagName("div"),hi=g.length,r=hi-1;r>=0;r--){var rt=g[r],o=rt.parentNode.href.toLowerCase(),u=imageInfoMap[o].ImageIndex,oi=(u-u%15)/15,si=ii*(u%5);u=u%15,pt=(u-u%5)/5,gt=ri*pt,rt.style.backgroundPosition=si+"px "+gt+"px",rt.style.backgroundImage=h+at[oi]+"')",c[r]=rt.parentNode.href}if(a(),lt=_ge("pgit0"),lt)for(bt=lt.getElementsByTagName("div"),li=bt.length,ct=0,r=0;r<li;r++)y=bt[r],et=y.getAttribute("ItemUrl"),f.indexOf(s(et,!0))>=0?y.style.display="none":(y.style.borderRight=ct%2==1?"0":"1px solid #ddd",ct++,st=y.getElementsByTagName("img"),st&&st[0].setAttribute("src",imageInfoMap[et].Favicon),sj_be(y,"click",sj_wf(yt,et)));var it=document.getElementsByName("pgUsualText"),vi=document.getElementsByName("pgUsualUrl"),fi=document.getElementsByName("pgUsualFavicon"),p=0,v=0;for(d=0;d<ui&&v<8;d++)if(ei="top"+d+"ClickUrlKey",k=t.get(ei),k&&k!="null"&&(o=s(k,!1).toLowerCase(),imageInfoMap[o]&&(it&&vi&&fi&&(it[v].innerHTML=imageInfoMap[o].ItemName,vi[v].innerHTML=o,it[v].parentNode.style.display="block",fi[v].setAttribute("src",imageInfoMap[o].Favicon),fi[v].style.display="inline",ot=it[v].parentNode,ot.style.borderRight=v%2==1?"0":"1px solid #ddd",ot.style.borderBottom="1px solid  #ddd",sj_be(ot,"click",sj_wf(yt,o)),v++),f.indexOf(k)<0&&p<6&&!yi(o)))){var u=imageInfoMap[o].ImageIndex,oi=(u-u%15)/15,si=ii*(u%5);u=u%15;var pt=(u-u%5)/5,gt=ri*pt,b=g[p];b.style.backgroundImage=h+at[oi]+"')",b.style.backgroundPosition=si+"px "+gt+"px",b.parentNode.setAttribute("href",o),c[p]=o,Log.Log("Load","NavPerson","ReplaceRec",!1,"index",p,"url",o),sj_be(b,"click",sj_wf(ut.writeStorage,b,o)),p++}v==0&&(ti.style.display="none",ni.style.display="block"),kt=1}},k=function(n){0==n?(d.style.display="block",w.className="lbselected",g.style.display="none",b.className="lbdefault"):(d.style.display="none",w.className="lbdefault",g.style.display="block",b.className="lbselected"),vi()},ci=function(n,i){function e(n,i){var r,u;if(n.length==0)n.splice(0,0,i);else for(n.indexOf(i)>=0&&n.splice(n.indexOf(i),1),r=0;r<n.length;r++)if(u=n[r],!u||!t.get(u)||parseInt(t.get(i))>=parseInt(t.get(u))){n.splice(r,0,i);break}}for(var f=new Array(0),u,r=0;r<i;r++)u="top"+r+"ClickUrlKey",f.push(t.get(u));for(e(f,n),r=0;r<i;r++)u="top"+r+"ClickUrlKey",t.set(u,f[r])};this.writeStorage=function(n,i){n&&(a(),i=s(i,!0),t.get(i)?t.set(i,parseInt(t.get(i))+1):t.set(i,"1"),ci(i,ui))};var li=function(n,t){var e=sj_ev(t),s=sj_et(e),o,f,u,h;if(l=n,o=s.parentNode.href,i[n]==2){if(!wt){for(f=document.getElementsByName("pgFavicon"),u=0;u<f.length;u++)h=f[u].getAttribute("faviconlink").toString(),f[u].setAttribute("src",h);wt=!0}p.style.display="block",k(0),et.style.display="block",sj_pd(e),r.focus(),r.value="",r.className="input_InputBox",Log.Log("DHTMLClick","NavPerson","PersonalGroup",!1,"index",n,"name",o);return}if(lt){sj_pd(e),lt=!1;return}ut.writeStorage(s,o)},wi=function(n){n.pointerType==n.MSPOINTER_TYPE_TOUCH&&(y=Date.now())},hi=function(){y=Date.now()},o=function(t){var f,r,o,u,s;for(a(),f=e.getElementsByTagName("div"),r=0;r<f.length;r++)i[r]!=2&&(o=f[r],u=o.getElementsByTagName("p"),u[0].style.display=t?"block":"none",t&&(u[0].style.backgroundPosition="-39px 0px",s=o.parentNode.href.toLowerCase(),u[0].style.marginTop=imageInfoMap[s]?"0":n=="LARGE"?"-88px":"-80px"));v=t},si=function(n){if(n.pointerType==n.MSPOINTER_TYPE_TOUCH){var t=Date.now()-y;t>500?(n.cancelBubble=!0,n.stopPropagation(),n&&n.preventDefault?n.preventDefault():n.returnValue=!1,v?o(!1):o(!0),lt=!0):o(!1)}},oi=function(n,t,i){var r=sj_ev(i),u=Date.now()-y;u>500?(sj_pd(r),sj_sp(r),v?o(!1):o(!0)):(ct=!0,o(!1),sj_sp(r))},ei=function(n,t,i){sj_be(n,"click",function(n){it(n,i)}),sj_be(t,"click",function(n){li(i,n)}),_w.navigator.msPointerEnabled?(sj_be(t,"MSPointerDown",wi),sj_be(t,"MSPointerUp",si),sj_be(n,"MSPointerUp",function(n){pi(n,i)}),t.style.msTouchAction="none",n.style.msTouchAction="none"):(sj_be(t,"touchstart",hi),sj_be(t,"touchend",function(n){oi(t,i,n)}),sj_be(n,"touchend",function(n){it(n,i)}))},fi=function(n){var t=sj_ev(n),i=t.keyCode;i==13&&pt()},bi=function(){var u,o,n,t,s,f,h,i,r,c;if(e)for(u=e.getElementsByTagName("div"),o=u.length,n=0;n<o;n++)t=u[n],sj_be(t,"mouseover",sj_wf(ht,t,-2,n)),sj_be(t,"mouseout",sj_wf(ht,t,0,n)),s=t.getElementsByTagName("p"),ei(s[0],t,n);for(sj_be(w,"click",sj_wf(k,0)),f=tt.getElementsByTagName("div"),h=f.length,i=0;i<h;i++)r=f[i],c=r.parentNode.getAttribute("href"),sj_be(r,"click",sj_wf(ut.writeStorage,r,c));sj_be(gt,"click",bt),sj_be(dt,"click",pt),sj_be(p,"keyup",fi),sj_be(b,"click",sj_wf(k,1))};(this.getLocaolStore=function(){return t},this.getFormatString=function(){return s},this.initPersonalGroup=function(){a(),this.initImageStatus(),k(0),bi()},ht=function(t,r,u){var f=t.getElementsByTagName("p"),e,s;if(r!=0&&u<15&&i[u]!=2?(f[0].style.display=ct?"none":"block",e=t.parentNode.href.toLowerCase(),f[0].style.marginTop=imageInfoMap[e]?"0":n=="LARGE"?"-88px":"-80px",ct=!1):!v&&u<15&&(f[0].style.display="none"),i[u]==2)t.style.backgroundPosition=r<0?n=="LARGE"?"-212px -2px":"-227px -7px":n=="LARGE"?"0 0":"-15px -5px";else{var o=t.parentNode.getAttribute("href").toLowerCase(),u=imageInfoMap[o]?imageInfoMap[o].ImageIndex:0,h=-st*(u%5);u=u%15,s=-ot*((u-u%5)/5),sb_i6&&(t.style.height=ot+r*2+"px",t.style.width=st+r*2+"px",t.style.borderWidth=-r+"px"),t.style.backgroundPosition=h+r+"px "+(s+r)+"px"}},t.initDom=function(){try{window.localStorage||this.dataDom||(this.dataDom=sj_ce("input"),this.dataDom.type="hidden",this.dataDom.addBehavior("#default#userData"),document.body.appendChild(this.dataDom),this.dataDom.load(this.hname))}catch(n){return this.dataDom||(this.dataDom=sj_ce("input"),this.dataDom.type="hidden",this.dataDom.style.behavior="url(#default#userData)",document.body.appendChild(this.dataDom),this.dataDom.load(this.hname)),this.canAccess=!1,!1}},t.set=function(n,t){this.canAccess&&window.localStorage?window.localStorage.setItem(n,t):(this.dataDom.load(this.hname),this.dataDom.setAttribute(n,t),this.dataDom.save(this.hname))},t.get=function(n){return this.canAccess&&window.localStorage?window.localStorage.getItem(n):(this.dataDom.load(this.hname),this.dataDom.getAttribute(n))},t.remove=function(n){this.canAccess&&window.localStorage?localStorage.removeItem(n):(this.dataDom.load(this.hname),this.dataDom.removeAttribute(n),this.dataDom.save(this.hname))},ai)&&t.initDom()}